<!DOCTYPE html>

<body>

<meta name="vtex-version" content="1.0.0.0">

<script src="http://localhost:35729/livereload.js"></script>
<script src="/lib/jquery-1.8.3.min.js"></script>
<script src="/lib/vtex-utils.js"></script>
<script src="/lib/dust-core-2.0.0.min.js"></script>

<style type="text/css">.item_doesnt_exist {color: gray;}
.accessory{border: 1px solid black;}</style>

<div>
  <div class="portal-sku-selector-ref"></div>
  <div class="portal-quantity-selector-ref"></div>
  <a href="" class="buy-button">COMPRAR</a>
  <div class="portal-accessories-selector-ref"></div>
</div>


<script src="js/portal-template-as-modal.js"></script>
<script src="js/portal-price-with-template.js"></script>
<script src='js/portal-sku-selector-with-template.js'></script>
<script src='js/portal-buy-button.js'></script>
<script src='js/portal-quantity-selector-with-template.js'></script>
<script src='js/portal-accessories-selector-with-template.js'></script>

<script type="text/javascript">
  var mocks = ['spec/mocks/threeDimensionsSomeUnavailable.json', 'spec/mocks/casaamerica.json'];
  var accMock = '/spec/mocks/accessories.json'

  $.getJSON(mocks[0]).done(function(data){
    $('.portal-sku-selector-ref').skuSelector(data);
    $('.buy-button').buyButton(data.productId);
    $('.portal-quantity-selector-ref').quantitySelector(data.productId, {unitOfMeasurement: "mÂ²", unitMultiplier: 10}, {unitBased: true});

    $.getJSON(accMock).done(function(accData){
      var container = $('.portal-accessories-selector-ref')
      container.accessoriesSelector(data.productId, accData);
    });
  });


</script>

</body>
